<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surprise for Rosuu - Special</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    
    <style>
        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #ffebee, #fce4ec);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            overflow-x: hidden;
            color: #880e4f;
        }

        .container {
            max-width: 900px;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(188, 16, 102, 0.2);
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
            border: 10px solid #ffcdd2;
        }

        /* Header */
        .header {
            margin-bottom: 30px;
        }

        h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem;
            color: #d81b60;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .subtitle {
            font-size: 1.2rem;
            color: #ad1457;
            margin-bottom: 10px;
        }

        .welcome-message {
            font-size: 1.3rem;
            color: #880e4f;
            margin: 25px 0;
            line-height: 1.6;
            padding: 15px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 15px;
            border-left: 5px solid #f48fb1;
        }

        /* Message Box */
        .message-box {
            background: linear-gradient(135deg, #fce4ec, #f8bbd9);
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 10px 25px rgba(216, 27, 96, 0.15);
            position: relative;
            border: 5px solid #f8bbd9;
            min-height: 700px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .message-text {
            font-size: 1.5rem;
            line-height: 1.6;
            margin-bottom: 25px;
            font-weight: 300;
            z-index: 10;
            position: relative;
        }

        /* Special Message */
        .special-message {
            font-size: 1.6rem;
            color: #880e4f;
            line-height: 1.7;
            margin: 30px 0;
            padding: 25px;
            background: rgba(255, 255, 255, 0.85);
            border-radius: 15px;
            border: 3px solid #f48fb1;
            text-align: left;
            font-style: italic;
            position: relative;
            z-index: 15;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            display: none;
        }

        .special-message .emoji {
            font-size: 2rem;
            vertical-align: middle;
        }

        /* Buttons */
        .button-container {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 40px 0;
            position: relative;
            height: 100px;
            z-index: 10;
        }

        .btn {
            padding: 18px 50px;
            font-size: 1.5rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .yes-btn {
            background: linear-gradient(to right, #4CAF50, #2E7D32);
            color: white;
        }

        .yes-btn:hover {
            transform: scale(1.08);
            box-shadow: 0 10px 25px rgba(76, 175, 80, 0.4);
        }

        .no-btn {
            background: linear-gradient(to right, #f44336, #c62828);
            color: white;
        }

        .no-btn:hover {
            transform: scale(1.08);
            box-shadow: 0 10px 25px rgba(244, 67, 54, 0.4);
        }

        .tap-instruction {
            margin: 30px 0;
            font-size: 1.4rem;
            color: #ad1457;
            font-style: italic;
            animation: pulse 2s infinite;
            z-index: 10;
            position: relative;
        }

        @keyframes pulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }

        /* Perfect Rose */
        .perfect-rose-container {
            display: none;
            position: relative;
            height: 500px;
            width: 100%;
            margin: 30px 0;
        }

        .perfect-rose {
            position: absolute;
            width: 300px;
            height: 400px;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
        }

        .rose-center {
            position: absolute;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: radial-gradient(circle, #ff9800, #ff5722, #e65100);
            left: 125px;
            top: 175px;
            z-index: 10;
            box-shadow: 
                0 0 30px rgba(255, 152, 0, 0.7),
                0 0 60px rgba(255, 87, 34, 0.5);
            animation: pulseCenter 3s infinite alternate;
        }

        @keyframes pulseCenter {
            0% { 
                transform: scale(1); 
                box-shadow: 
                    0 0 30px rgba(255, 152, 0, 0.7),
                    0 0 60px rgba(255, 87, 34, 0.5);
            }
            100% { 
                transform: scale(1.1); 
                box-shadow: 
                    0 0 40px rgba(255, 152, 0, 0.9),
                    0 0 80px rgba(255, 87, 34, 0.7),
                    0 0 120px rgba(230, 81, 0, 0.4);
            }
        }

        .perfect-petal {
            position: absolute;
            border-radius: 50% 0 50% 50%;
            transform-origin: center center;
            opacity: 0;
            box-shadow: 
                0 5px 25px rgba(0, 0, 0, 0.3),
                inset 0 -8px 15px rgba(255, 255, 255, 0.4),
                inset 0 5px 15px rgba(0, 0, 0, 0.2);
            border: 1.5px solid rgba(255, 255, 255, 0.5);
            z-index: 3;
            animation: petalFloat 4s ease-in-out infinite alternate;
        }

        @keyframes petalFloat {
            0% { transform: rotate(var(--angle)) translateY(0px); }
            100% { transform: rotate(var(--angle)) translateY(-3px); }
        }

        .rose-stem {
            position: absolute;
            background: linear-gradient(to right, #1b5e20, #2e7d32, #388e3c, #43a047);
            width: 20px;
            height: 0;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 10px;
            box-shadow: 
                0 5px 20px rgba(0, 0, 0, 0.3),
                inset 0 0 15px rgba(0, 0, 0, 0.2);
            z-index: 1;
        }

        .perfect-leaf {
            position: absolute;
            background: linear-gradient(to right, #1b5e20, #2e7d32, #388e3c);
            border-radius: 0 60% 60% 0;
            opacity: 0;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            z-index: 1;
        }

        .rose-thorn {
            position: absolute;
            background: linear-gradient(to bottom, #795548, #6d4c41, #5d4037);
            width: 10px;
            height: 25px;
            border-radius: 50%;
            transform: rotate(45deg);
            opacity: 0;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
        }

        /* Final Messages */
        .final-message {
            display: none;
            font-family: 'Dancing Script', cursive;
            font-size: 4rem;
            color: #d81b60;
            margin: 10px 0 20px 0;
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
            animation: float 3s ease-in-out infinite;
            z-index: 10;
            position: relative;
            padding-top: 20px;
            text-align: center;
        }

        .always-message {
            display: none;
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem;
            color: #c2185b;
            margin: 10px 0 40px 0;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.2);
            animation: heartbeat 1.5s ease-in-out infinite;
            z-index: 10;
            position: relative;
            text-align: center;
        }

        @keyframes float {
            0% { transform: translateY(0px) scale(1); }
            50% { transform: translateY(-25px) scale(1.05); }
            100% { transform: translateY(0px) scale(1); }
        }

        @keyframes heartbeat {
            0% { transform: scale(1); opacity: 0.9; }
            50% { transform: scale(1.05); opacity: 1; }
            100% { transform: scale(1); opacity: 0.9; }
        }

        /* Effects */
        .hearts-container {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 1;
        }

        .heart {
            position: absolute;
            font-size: 24px;
            color: #f06292;
            opacity: 0;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .sparkle {
            position: absolute;
            width: 12px;
            height: 12px;
            background: radial-gradient(circle, #fff 30%, transparent 70%);
            border-radius: 50%;
            opacity: 0;
            pointer-events: none;
            box-shadow: 0 0 20px #fff;
        }

        .footer {
            margin-top: 30px;
            font-size: 1rem;
            color: #888;
            z-index: 10;
            position: relative;
        }

        .emoji {
            font-size: 1.8rem;
            margin: 0 5px;
        }

        .glow {
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { 
                filter: drop-shadow(0 0 10px #ff4081);
                text-shadow: 0 0 10px #ff4081;
            }
            to { 
                filter: drop-shadow(0 0 25px #ff4081);
                text-shadow: 0 0 25px #ff4081;
            }
        }

        .falling-petal {
            position: absolute;
            width: 30px;
            height: 30px;
            background: linear-gradient(45deg, #e91e63, #f06292);
            border-radius: 50% 0 50% 50%;
            pointer-events: none;
            z-index: 3;
            opacity: 0.9;
            box-shadow: 0 5px 20px rgba(216, 27, 96, 0.4);
        }

        /* Button Effects */
        .btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            transform: scale(0);
            transition: transform 0.5s ease;
        }

        .btn:hover::after {
            transform: scale(1);
        }

        .btn-pulse {
            animation: btnPulse 2s infinite;
        }

        @keyframes btnPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Photo Gallery */
        #afterRoseGallery {
            display: none;
            margin-top: 40px;
            width: 100%;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
        }

        #afterRoseGallery img {
            width: 180px;
            height: 240px;
            object-fit: cover;
            border-radius: 20px;
            box-shadow: 0 12px 25px rgba(0, 0, 0, 0.3);
            opacity: 0;
            transform: scale(0.8) translateY(40px);
            animation: galleryFade 1s ease forwards;
        }

        #afterRoseGallery img:nth-child(1) { animation-delay: .2s; }
        #afterRoseGallery img:nth-child(2) { animation-delay: .5s; }
        #afterRoseGallery img:nth-child(3) { animation-delay: .8s; }
        #afterRoseGallery img:nth-child(4) { animation-delay: 1.1s; }
        #afterRoseGallery img:nth-child(5) { animation-delay: 1.4s; }
        #afterRoseGallery img:nth-child(6) { animation-delay: 1.7s; }

        @keyframes galleryFade {
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        /* ================= ROSE SIDE PHOTOS - UPDATED ================= */
        /* Positioned higher up and more to the sides */
        #roseSidePhotos {
            position: absolute;
            top: 40%; /* Changed from 65% to 40% - moved much higher up */
            width: 100%;
            display: none;
            pointer-events: none;
            z-index: 6;
            transform: translateY(-50%);
        }

        .rose-photo {
            position: absolute;
            width: 130px;
            height: 130px;
            object-fit: cover;
            border-radius: 50%;
            border: 6px solid #f8bbd9;
            box-shadow: 
                0 0 25px rgba(216,27,96,.45),
                inset 0 0 18px rgba(255,255,255,.7);
            opacity: 0;
            transform: scale(.7);
            animation: 
                photoAppear 1.2s ease forwards,
                photoFloat 4.5s ease-in-out infinite;
        }

        /* LEFT SIDE - Moved more to the side and higher up */
        .left1 { left: 2%; top: 20px; animation-delay: .3s; }
        .left2 { left: 1%; top: 160px; animation-delay: .6s; }
        .left3 { left: 2%; top: 300px; animation-delay: .9s; }

        /* RIGHT SIDE - Moved more to the side and higher up */
        .right1 { right: 2%; top: 20px; animation-delay: .4s; }
        .right2 { right: 1%; top: 160px; animation-delay: .7s; }
        .right3 { right: 2%; top: 300px; animation-delay: 1s; }

        @keyframes photoAppear {
            to { opacity: 1; transform: scale(1); }
        }

        @keyframes photoFloat {
            0% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-14px) scale(1.05); }
            100% { transform: translateY(0) scale(1); }
        }

        /* ================= RESPONSIVE DESIGN ================= */
        /* Tablet */
        @media (max-width: 1024px) {
            .container {
                max-width: 95%;
                padding: 25px;
            }
            
            h1 {
                font-size: 3.2rem;
            }
            
            .message-box {
                min-height: 650px;
            }
            
            .btn {
                padding: 16px 45px;
                font-size: 1.4rem;
            }
            
            .perfect-rose {
                width: 280px;
                height: 380px;
            }
            
            .rose-center {
                left: 115px;
                top: 165px;
            }
            
            .rose-photo {
                width: 110px;
                height: 110px;
            }
            
            /* Updated positions for tablet */
            .left1 { left: 1%; top: 30px; }
            .left2 { left: 0.5%; top: 150px; }
            .left3 { left: 1%; top: 270px; }
            
            .right1 { right: 1%; top: 30px; }
            .right2 { right: 0.5%; top: 150px; }
            .right3 { right: 1%; top: 270px; }
        }

        /* Mobile Large */
        @media (max-width: 768px) {
            body {
                padding: 15px;
            }
            
            .container {
                padding: 20px;
                border-width: 8px;
            }
            
            h1 {
                font-size: 3rem;
            }
            
            .message-text, .special-message {
                font-size: 1.3rem;
            }
            
            .btn {
                padding: 15px 35px;
                font-size: 1.3rem;
            }
            
            .button-container {
                gap: 20px;
            }
            
            .final-message {
                font-size: 3rem;
                margin: 5px 0 15px 0;
            }
            
            .always-message {
                font-size: 2.8rem;
                margin: 5px 0 30px 0;
            }
            
            .perfect-rose {
                width: 250px;
                height: 350px;
            }
            
            .rose-center {
                left: 100px;
                top: 150px;
            }
            
            #afterRoseGallery img {
                width: 160px;
                height: 210px;
            }
            
            /* Rose Side Photos - Mobile */
            #roseSidePhotos {
                top: 45%; /* Higher up on mobile */
            }
            
            .rose-photo {
                width: 90px;
                height: 90px;
                border-width: 4px;
            }
            
            /* Updated positions for mobile - more to the side and higher */
            .left1 { left: 1%; top: 10px; }
            .left2 { left: 0.5%; top: 110px; }
            .left3 { left: 1%; top: 210px; }
            
            .right1 { right: 1%; top: 10px; }
            .right2 { right: 0.5%; top: 110px; }
            .right3 { right: 1%; top: 210px; }
        }

        /* Mobile Medium */
        @media (max-width: 600px) {
            .button-container {
                flex-direction: column;
                gap: 25px;
                height: auto;
            }
            
            .btn {
                width: 100%;
                max-width: 280px;
            }
            
            .final-message {
                font-size: 2.8rem;
                padding-top: 10px;
            }
            
            .always-message {
                font-size: 2.5rem;
                margin: 5px 0 25px 0;
            }
            
            .perfect-rose {
                width: 220px;
                height: 320px;
            }
            
            .rose-center {
                left: 85px;
                top: 135px;
                width: 40px;
                height: 40px;
            }
            
            #afterRoseGallery {
                gap: 15px;
            }
            
            #afterRoseGallery img {
                width: 140px;
                height: 185px;
            }
            
            #roseSidePhotos {
                top: 48%; /* Slightly adjusted for medium mobile */
            }
        }

        /* Mobile Small */
        @media (max-width: 480px) {
            .container {
                padding: 15px;
                border-width: 6px;
            }
            
            h1 {
                font-size: 2.5rem;
            }
            
            .message-text, .special-message {
                font-size: 1.1rem;
            }
            
            .perfect-rose {
                width: 200px;
                height: 300px;
            }
            
            .rose-center {
                left: 75px;
                top: 125px;
                width: 35px;
                height: 35px;
            }
            
            .final-message {
                font-size: 2.5rem;
                margin: 0 0 10px 0;
            }
            
            .always-message {
                font-size: 2.2rem;
                margin: 0 0 20px 0;
            }
            
            #afterRoseGallery {
                gap: 12px;
            }
            
            #afterRoseGallery img {
                width: 120px;
                height: 160px;
            }
            
            .rose-photo {
                width: 70px;
                height: 70px;
            }
            
            /* Updated positions for small mobile */
            .left1 { left: 1%; top: 5px; }
            .left2 { left: 0.5%; top: 85px; }
            .left3 { left: 1%; top: 165px; }
            
            .right1 { right: 1%; top: 5px; }
            .right2 { right: 0.5%; top: 85px; }
            .right3 { right: 1%; top: 165px; }
        }

        /* Very Small Mobile */
        @media (max-width: 360px) {
            h1 {
                font-size: 2.2rem;
            }
            
            .final-message {
                font-size: 2.2rem;
            }
            
            .always-message {
                font-size: 2rem;
            }
            
            .perfect-rose {
                width: 180px;
                height: 280px;
            }
            
            .rose-center {
                left: 65px;
                top: 115px;
                width: 30px;
                height: 30px;
            }
            
            #afterRoseGallery img {
                width: 100px;
                height: 135px;
            }
            
            .rose-photo {
                width: 60px;
                height: 60px;
            }
            
            /* Updated positions for very small mobile */
            .left1 { left: 0.5%; top: 10px; }
            .left2 { left: 0%; top: 70px; }
            .left3 { left: 0.5%; top: 130px; }
            
            .right1 { right: 0.5%; top: 10px; }
            .right2 { right: 0%; top: 70px; }
            .right3 { right: 0.5%; top: 130px; }
        }

        /* Landscape Orientation */
        @media (max-height: 600px) and (orientation: landscape) {
            .container {
                padding: 15px;
            }
            
            .message-box {
                min-height: 550px;
                padding: 20px;
            }
            
            .perfect-rose-container {
                height: 400px;
            }
            
            .perfect-rose {
                width: 200px;
                height: 300px;
            }
            
            .rose-center {
                left: 75px;
                top: 125px;
                width: 35px;
                height: 35px;
            }
            
            #roseSidePhotos {
                top: 35%; /* Higher up in landscape */
            }
            
            .rose-photo {
                width: 80px;
                height: 80px;
            }
            
            .left1, .right1 { top: 5px; }
            .left2, .right2 { top: 95px; }
            .left3, .right3 { top: 185px; }
        }

        /* High Resolution Screens */
        @media (min-width: 1440px) {
            .container {
                max-width: 1100px;
            }
            
            h1 {
                font-size: 4rem;
            }
            
            .message-text, .special-message {
                font-size: 1.8rem;
            }
            
            .final-message {
                font-size: 4.5rem;
            }
            
            .always-message {
                font-size: 4rem;
            }
            
            /* Larger photos for high resolution */
            .rose-photo {
                width: 150px;
                height: 150px;
            }
            
            /* Updated positions for high resolution */
            .left1 { left: 3%; top: 30px; }
            .left2 { left: 2%; top: 180px; }
            .left3 { left: 3%; top: 330px; }
            
            .right1 { right: 3%; top: 30px; }
            .right2 { right: 2%; top: 180px; }
            .right3 { right: 3%; top: 330px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="hearts-container" id="heartsContainer"></div>
        
        <div class="header">
            <h1>For My Rosuu ‚ù§Ô∏è</h1>
            <div class="subtitle">A Special Surprise That Lasts Forever</div>
        </div>
        
        <div class="message-box">
            <div class="message-text" id="messageText">
                Ready for your special surprise? <span class="emoji">üåπ</span>
            </div>
            
            <div class="button-container" id="buttonContainer">
                <button class="btn yes-btn btn-pulse" id="yesBtn">YES, I'M READY! üåπ</button>
                <button class="btn no-btn" id="noBtn">NO, NOT YET</button>
            </div>
            
            <!-- SPECIAL MESSAGE THAT STAYS -->
            <div class="special-message" id="specialMessage">
                <!-- Special message will appear here and stay -->
            </div>
            
            <div class="tap-instruction" id="tapInstruction" style="display: none;">
                Tap and hold anywhere to create...
            </div>
            
            <!-- PERFECT ROSE CONTAINER -->
            <div class="perfect-rose-container" id="perfectRoseContainer">
                <!-- Perfect rose will be created here -->
            </div>
            
            <!-- FINAL MESSAGE -->
            <div class="final-message" id="finalMessage">
                <!-- Final message will appear here -->
            </div>
            
            <!-- NEW ALWAYS MESSAGE -->
            <div class="always-message" id="alwaysMessage">
                <!-- New message will appear here -->
            </div>
        </div>
        
        <!-- PHOTO GALLERY -->
        <div id="afterRoseGallery">
            <img src="photo/rose.png" alt="Rose photo 1">
            <img src="photo/rose2.png" alt="Rose photo 2">
            <img src="photo/rose3.png" alt="Rose photo 3">
            <img src="photo/rose4.jpg" alt="Rose photo 4">
            <img src="photo/rose5.png" alt="Rose photo 5">
            <img src="photo/rose6.png" alt="Rose photo 6">
        </div>
        
        <!-- ROSE SIDE PHOTOS - NOW POSITIONED HIGHER AND MORE TO SIDES -->
        <div id="roseSidePhotos">
            <!-- LEFT -->
            <img src="photo/rose.png" class="rose-photo left1" alt="Rose side 1">
            <img src="photo/rose2.png" class="rose-photo left2" alt="Rose side 2">
            <img src="photo/rose3.png" class="rose-photo left3" alt="Rose side 3">
            
            <!-- RIGHT -->
            <img src="photo/rose4.jpg" class="rose-photo right1" alt="Rose side 4">
            <img src="photo/rose5.png" class="rose-photo right2" alt="Rose side 5">
            <img src="photo/rose6.png" class="rose-photo right3" alt="Rose side 6">
        </div>
        
        <div class="footer">
            Made with <i class="fas fa-heart" style="color:#e91e63;"></i> for Rosuu - A memory that lasts forever
        </div>
    </div>
    
    <!-- Audio elements -->
    <audio id="clickSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3" type="audio/mpeg">
    </audio>
    <audio id="roseSound" preload="auto">
        <source src="https://assets.mixkit.co/music/preview/mixkit-romantic-sweet-and-tender-moment-487.mp3" type="audio/mpeg">
    </audio>
    <audio id="heartSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-heartbeat-fast-917.mp3" type="audio/mpeg">
    </audio>
    <audio id="magicSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-magic-sparkles-300.mp3" type="audio/mpeg">
    </audio>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const messageText = document.getElementById('messageText');
            const buttonContainer = document.getElementById('buttonContainer');
            const yesBtn = document.getElementById('yesBtn');
            const noBtn = document.getElementById('noBtn');
            const tapInstruction = document.getElementById('tapInstruction');
            const perfectRoseContainer = document.getElementById('perfectRoseContainer');
            const finalMessage = document.getElementById('finalMessage');
            const alwaysMessage = document.getElementById('alwaysMessage');
            const specialMessage = document.getElementById('specialMessage');
            const heartsContainer = document.getElementById('heartsContainer');
            const afterRoseGallery = document.getElementById('afterRoseGallery');
            const roseSidePhotos = document.getElementById('roseSidePhotos');
            
            // Audio elements
            const clickSound = document.getElementById('clickSound');
            const roseSound = document.getElementById('roseSound');
            const heartSound = document.getElementById('heartSound');
            const magicSound = document.getElementById('magicSound');
            
            // Variables
            let noClickCount = 0;
            let isCreatingRose = false;
            let petals = [];
            
            // Start with some effects
            createHearts(15);
            createSparkles(10);
            
            // Set up the "no" button to move when hovered or clicked
            setupNoButton();
            
            function setupNoButton() {
                noBtn.addEventListener('mouseover', moveNoButton);
                noBtn.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    moveNoButton();
                });
                noBtn.addEventListener('click', moveNoButton);
                
                yesBtn.addEventListener('click', () => {
                    playSound(clickSound);
                    showSpecialMessage();
                    yesBtn.classList.remove('btn-pulse');
                });
                
                // Add touch support for yes button
                yesBtn.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    playSound(clickSound);
                    showSpecialMessage();
                    yesBtn.classList.remove('btn-pulse');
                });
                
                // Add initial sparkle effects to buttons
                createButtonSparkles();
            }
            
            function createButtonSparkles() {
                // Add occasional sparkles around buttons
                setInterval(() => {
                    if (Math.random() > 0.7) {
                        const yesRect = yesBtn.getBoundingClientRect();
                        createSparkles(2, yesRect.left + yesRect.width/2, yesRect.top + yesRect.height/2);
                    }
                }, 2000);
            }
            
            function moveNoButton() {
                playSound(clickSound);
                noClickCount++;
                
                // Move the button to a random position
                const containerRect = buttonContainer.getBoundingClientRect();
                const btnRect = noBtn.getBoundingClientRect();
                const maxX = containerRect.width - btnRect.width - 20;
                const maxY = containerRect.height - btnRect.height - 20;
                const randomX = Math.floor(Math.random() * maxX);
                const randomY = Math.floor(Math.random() * maxY);
                
                noBtn.style.position = 'absolute';
                noBtn.style.left = `${randomX}px`;
                noBtn.style.top = `${randomY}px`;
                
                // Create sparkles on button movement
                createSparkles(5, randomX + btnRect.width/2, randomY + btnRect.height/2);
                
                // Change message after a few tries
                if (noClickCount === 3) {
                    messageText.innerHTML = `You can't escape clicking YES! <span class="emoji">üòâ</span>`;
                    createHearts(12);
                    createSparkles(10);
                } else if (noClickCount === 5) {
                    messageText.innerHTML = `Just click the YES button! <span class="emoji">üòä</span>`;
                    createHearts(15);
                    createSparkles(12);
                } else if (noClickCount === 7) {
                    messageText.innerHTML = `Okay, I'll make it easier for you! <span class="emoji">üòÑ</span>`;
                    createHearts(20);
                    createSparkles(15);
                    // Make YES button bigger and more prominent
                    yesBtn.style.transform = 'scale(1.1)';
                    yesBtn.style.boxShadow = '0 0 30px rgba(76, 175, 80, 0.6)';
                } else if (noClickCount >= 9) {
                    // Force proceed
                    showSpecialMessage();
                }
            }
            
            function showSpecialMessage() {
                buttonContainer.style.display = 'none';
                messageText.style.display = 'none';
                
                // Show the special message that will stay
                specialMessage.style.display = 'block';
                specialMessage.innerHTML = `My cutie pie Rosuu, today is Rose Day and I thought no one calls you Rose... it's only me who calls you that and gives you this cute nickname. <span class="emoji">üåπ</span><br><br>I'm not there, so I created this memory for you!`;
                
                setTimeout(() => {
                    specialMessage.style.opacity = '1';
                    specialMessage.style.transition = 'opacity 1.5s ease';
                    tapInstruction.style.display = 'block';
                    createHearts(10);
                    setupTapAndHold();
                    
                    // Add more effects
                    createFallingPetals(8);
                    createSparkles(15);
                }, 1000);
            }
            
            function setupTapAndHold() {
                let tapHoldTime = 0;
                let tapHoldInterval;
                
                function startTapHold(e) {
                    if (isCreatingRose) return;
                    
                    tapInstruction.textContent = "Keep holding... Creating!";
                    tapHoldTime = 0;
                    
                    // Get position for touch or click
                    let x, y;
                    if (e.type.includes('touch')) {
                        x = e.touches[0].clientX;
                        y = e.touches[0].clientY;
                        // Prevent default touch behavior
                        e.preventDefault();
                    } else {
                        x = e.clientX;
                        y = e.clientY;
                    }
                    
                    // Create sparkles at tap position
                    createSparkles(10, x, y);
                    
                    tapHoldInterval = setInterval(() => {
                        tapHoldTime += 100;
                        
                        // Create progress effects
                        if (tapHoldTime % 400 === 0) {
                            createHearts(4);
                            createSparkles(6, x, y);
                            createFallingPetals(3);
                        }
                        
                        if (tapHoldTime >= 2500) {
                            clearInterval(tapHoldInterval);
                            createPerfectRose();
                        }
                    }, 100);
                }
                
                function cancelTapHold() {
                    clearInterval(tapHoldInterval);
                    if (!isCreatingRose) {
                        tapInstruction.textContent = "Tap and hold to create...";
                    }
                }
                
                // Mouse events
                document.addEventListener('mousedown', startTapHold);
                document.addEventListener('mouseup', cancelTapHold);
                
                // Touch events for mobile
                document.addEventListener('touchstart', startTapHold, { passive: false });
                document.addEventListener('touchend', cancelTapHold);
                document.addEventListener('touchcancel', cancelTapHold);
            }
            
            function createPerfectRose() {
                isCreatingRose = true;
                tapInstruction.style.display = 'none';
                
                // Show rose container
                perfectRoseContainer.style.display = 'block';
                playSound(magicSound);
                
                // Show side photos (now positioned higher up and more to sides)
                roseSidePhotos.style.display = 'block';
                
                // Create the perfect rose
                createRoseStem();
            }
            
            function createRoseStem() {
                // Create stem
                const stem = document.createElement('div');
                stem.className = 'rose-stem';
                perfectRoseContainer.appendChild(stem);
                
                // Animate stem growth
                setTimeout(() => {
                    stem.style.height = '350px';
                    stem.style.transition = 'height 2.5s ease';
                    
                    // Create thorns on stem
                    setTimeout(() => {
                        createThorns(stem);
                    }, 1000);
                    
                    // Create leaves on stem
                    setTimeout(() => {
                        createLeaves(stem);
                    }, 1500);
                    
                    // Create rose flower
                    setTimeout(() => {
                        createRoseFlower();
                    }, 2000);
                }, 500);
            }
            
            function createThorns(stem) {
                // Create 4 thorns on the stem
                for (let i = 0; i < 4; i++) {
                    const thorn = document.createElement('div');
                    thorn.className = 'rose-thorn';
                    thorn.style.left = 'calc(50% - 5px)';
                    thorn.style.bottom = `${50 + i * 80}px`;
                    perfectRoseContainer.appendChild(thorn);
                    
                    setTimeout(() => {
                        thorn.style.opacity = '1';
                        thorn.style.transition = 'opacity 1s ease';
                        
                        // Add sparkles at thorn position
                        createSparkles(3, 
                            perfectRoseContainer.offsetLeft + perfectRoseContainer.offsetWidth/2,
                            perfectRoseContainer.offsetTop + perfectRoseContainer.offsetHeight - (50 + i * 80)
                        );
                    }, i * 300);
                }
            }
            
            function createLeaves(stem) {
                // Create 3 beautiful leaves
                const leaves = [
                    { left: 'calc(50% + 15px)', bottom: '120px', rotate: '15deg' },
                    { left: 'calc(50% - 25px)', bottom: '200px', rotate: '-10deg' },
                    { left: 'calc(50% + 20px)', bottom: '280px', rotate: '25deg' }
                ];
                
                leaves.forEach((leafStyle, index) => {
                    const leaf = document.createElement('div');
                    leaf.className = 'perfect-leaf';
                    leaf.style.left = leafStyle.left;
                    leaf.style.bottom = leafStyle.bottom;
                    leaf.style.width = '70px';
                    leaf.style.height = '35px';
                    leaf.style.transform = `rotate(${leafStyle.rotate})`;
                    perfectRoseContainer.appendChild(leaf);
                    
                    setTimeout(() => {
                        leaf.style.opacity = '1';
                        leaf.style.transition = 'opacity 1.5s ease';
                        
                        // Add sparkles at leaf position
                        createSparkles(4, 
                            perfectRoseContainer.offsetLeft + perfectRoseContainer.offsetWidth/2 + (index === 0 ? 15 : index === 1 ? -25 : 20),
                            perfectRoseContainer.offsetTop + perfectRoseContainer.offsetHeight - parseInt(leafStyle.bottom)
                        );
                    }, index * 400);
                });
            }
            
            function createRoseFlower() {
                // Create the perfect rose div
                const perfectRose = document.createElement('div');
                perfectRose.className = 'perfect-rose';
                perfectRoseContainer.appendChild(perfectRose);
                
                // Create rose center
                const center = document.createElement('div');
                center.className = 'rose-center';
                perfectRose.appendChild(center);
                
                // Create 5 layers of petals for a perfect, realistic rose
                const layers = [
                    { petals: 5, radius: 20, size: '40px 50px', hue: 330 },
                    { petals: 8, radius: 35, size: '45px 55px', hue: 325 },
                    { petals: 10, radius: 50, size: '50px 60px', hue: 320 },
                    { petals: 12, radius: 65, size: '55px 65px', hue: 315 },
                    { petals: 15, radius: 80, size: '60px 70px', hue: 310 }
                ];
                
                let petalIndex = 0;
                
                layers.forEach((layer, layerIndex) => {
                    for (let i = 0; i < layer.petals; i++) {
                        petalIndex++;
                        const petal = document.createElement('div');
                        petal.className = 'perfect-petal';
                        
                        // Calculate position in layer
                        const angle = (i / layer.petals) * Math.PI * 2 + (layerIndex * 0.2);
                        const radius = layer.radius;
                        const x = radius * Math.cos(angle);
                        const y = radius * Math.sin(angle) - layerIndex * 10;
                        
                        // Set petal size
                        const [width, height] = layer.size.split(' ');
                        petal.style.width = width;
                        petal.style.height = height;
                        petal.style.left = `calc(50% + ${x}px - ${parseInt(width)/2}px)`;
                        petal.style.top = `calc(50% + ${y}px - ${parseInt(height)/2}px)`;
                        petal.style.setProperty('--angle', `${angle}rad`);
                        petal.style.transform = `rotate(${angle}rad)`;
                        
                        // Color variation for realism
                        const hue = layer.hue + (i % 5) * 2;
                        const saturation = 75 + (layerIndex * 3);
                        const lightness = 50 + (layerIndex * 2);
                        petal.style.background = `linear-gradient(to bottom, 
                            hsl(${hue}, ${saturation}%, ${lightness}%), 
                            hsl(${hue+5}, ${saturation+5}%, ${lightness+10}%), 
                            hsl(${hue+8}, ${saturation+8}%, ${lightness+15}%))`;
                        
                        perfectRose.appendChild(petal);
                        petals.push(petal);
                        
                        // Animate petal appearance with delay
                        setTimeout(() => {
                            petal.style.opacity = '0.95';
                            petal.style.transition = 'opacity 1.2s ease, transform 1.2s ease';
                            
                            // Add subtle individual movement
                            setInterval(() => {
                                petal.style.transform = `rotate(${angle}rad) translateY(${Math.sin(Date.now()/1800 + petalIndex)*2}px)`;
                            }, 50);
                            
                            // Create effects for every few petals
                            if (petalIndex % 3 === 0) {
                                createHearts(2);
                                createSparkles(3, 
                                    petal.offsetLeft + petal.offsetWidth/2,
                                    petal.offsetTop + petal.offsetHeight/2
                                );
                            }
                            
                            if (petalIndex % 6 === 0) {
                                playSound(magicSound, 0.2);
                            }
                        }, petalIndex * 100 + layerIndex * 500);
                    }
                });
                
                // Animate rose appearance
                setTimeout(() => {
                    perfectRose.style.opacity = '1';
                    perfectRose.style.transition = 'opacity 2s ease';
                    
                    // Show final message
                    setTimeout(() => {
                        showFinalCelebration();
                    }, 2000);
                }, 1000);
            }
            
            function showFinalCelebration() {
                // Hide special message during celebration
                specialMessage.style.opacity = '0.7';
                
                // Show final message
                finalMessage.style.display = 'block';
                finalMessage.textContent = "Happy Rose Day, my cutie pie! üåπ";
                finalMessage.classList.add('glow');
                
                // Show the new "always" message after a delay
                setTimeout(() => {
                    alwaysMessage.style.display = 'block';
                    alwaysMessage.textContent = "You always will be my rosuu ‚ù§Ô∏è";
                    
                    // Create more hearts around the new message
                    createHearts(30);
                    createSparkles(25);
                    
                    // Show photo gallery
                    setTimeout(() => {
                        afterRoseGallery.style.display = 'flex';
                    }, 500);
                }, 1500);
                
                // Create grand finale effects
                createHearts(80);
                createSparkles(60);
                createFallingPetals(50);
                playSound(roseSound);
                
                // Make special message fully visible again
                setTimeout(() => {
                    specialMessage.style.opacity = '1';
                    specialMessage.style.transition = 'opacity 1s ease';
                }, 1000);
                
                // Continuous effects
                setInterval(() => {
                    createHearts(4);
                    createSparkles(5);
                    createFallingPetals(3);
                }, 3000);
                
                // Make petals breathe and float
                setInterval(() => {
                    petals.forEach((petal, i) => {
                        if (petal && petal.style) {
                            const scale = 1 + Math.sin(Date.now()/2200 + i) * 0.06;
                            const rotate = Math.sin(Date.now()/2500 + i) * 0.02;
                            petal.style.transform = petal.style.transform.replace(/scale\([^)]*\)/, '') + ` scale(${scale}) rotate(${rotate}rad)`;
                        }
                    });
                }, 100);
            }
            
            function createFallingPetals(count) {
                for (let i = 0; i < count; i++) {
                    setTimeout(() => {
                        const petal = document.createElement('div');
                        petal.className = 'falling-petal';
                        
                        // Random start position at top
                        petal.style.left = `${Math.random() * 100}%`;
                        petal.style.top = `-40px`;
                        
                        // Random color
                        const hue = 320 + Math.random() * 40;
                        petal.style.background = `linear-gradient(45deg, 
                            hsl(${hue}, 85%, 65%), 
                            hsl(${hue + 10}, 90%, 75%))`;
                        
                        // Random rotation
                        const rotation = Math.random() * 360;
                        petal.style.transform = `rotate(${rotation}deg) scale(${0.8 + Math.random() * 0.6})`;
                        
                        document.querySelector('.message-box').appendChild(petal);
                        
                        // Animate falling with sway
                        setTimeout(() => {
                            petal.style.transition = 'all 10s cubic-bezier(0.4, 0, 0.2, 1)';
                            petal.style.top = `calc(100% + 40px)`;
                            petal.style.left = `${parseFloat(petal.style.left) + (Math.random() * 60 - 30)}%`;
                            petal.style.transform = `rotate(${rotation + 1080}deg) scale(${0.5})`;
                            petal.style.opacity = '0.2';
                        }, 10);
                        
                        // Remove after animation
                        setTimeout(() => {
                            if (petal.parentNode) {
                                petal.remove();
                            }
                        }, 10500);
                    }, i * 150);
                }
            }
            
            function createHearts(count) {
                for (let i = 0; i < count; i++) {
                    setTimeout(() => {
                        const heart = document.createElement('div');
                        heart.className = 'heart';
                        heart.innerHTML = '<i class="fas fa-heart"></i>';
                        heart.setAttribute('aria-hidden', 'true');
                        
                        // Random position
                        heart.style.left = `${Math.random() * 100}%`;
                        heart.style.top = `${Math.random() * 100}%`;
                        heart.style.fontSize = `${25 + Math.random() * 40}px`;
                        heart.style.color = `hsl(${330 + Math.random() * 30}, 90%, 65%)`;
                        
                        heartsContainer.appendChild(heart);
                        
                        // Animate heart
                        setTimeout(() => {
                            heart.style.opacity = '0.95';
                            heart.style.transition = 'all 3s ease';
                            heart.style.transform = `translateY(-${180 + Math.random() * 250}px) 
                                rotate(${Math.random() * 360}deg) 
                                scale(${0.8 + Math.random() * 1})`;
                        }, 10);
                        
                        // Remove heart after animation
                        setTimeout(() => {
                            if (heart.parentNode) {
                                heart.remove();
                            }
                        }, 3200);
                    }, i * 50);
                }
            }
            
            function createSparkles(count, x, y) {
                for (let i = 0; i < count; i++) {
                    setTimeout(() => {
                        const sparkle = document.createElement('div');
                        sparkle.className = 'sparkle';
                        sparkle.setAttribute('aria-hidden', 'true');
                        
                        // Position
                        if (x && y) {
                            sparkle.style.left = `${x + (Math.random() * 60 - 30)}px`;
                            sparkle.style.top = `${y + (Math.random() * 60 - 30)}px`;
                        } else {
                            sparkle.style.left = `${Math.random() * 100}%`;
                            sparkle.style.top = `${Math.random() * 100}%`;
                        }
                        
                        // Random size and color
                        const size = 8 + Math.random() * 20;
                        sparkle.style.width = sparkle.style.height = `${size}px`;
                        const hue = 50 + Math.random() * 60;
                        sparkle.style.background = `radial-gradient(circle, 
                            hsl(${hue}, 100%, 90%) 40%, 
                            transparent 70%)`;
                        sparkle.style.boxShadow = `0 0 ${size}px hsl(${hue}, 100%, 75%)`;
                        
                        heartsContainer.appendChild(sparkle);
                        
                        // Animate sparkle
                        setTimeout(() => {
                            sparkle.style.opacity = '0.95';
                            sparkle.style.transition = 'all 1.5s ease';
                            sparkle.style.transform = `scale(${1.5 + Math.random() * 4}) 
                                translate(${Math.random() * 80 - 40}px, ${Math.random() * 80 - 40}px)`;
                        }, 10);
                        
                        // Remove sparkle after animation
                        setTimeout(() => {
                            if (sparkle.parentNode) {
                                sparkle.remove();
                            }
                        }, 1600);
                    }, i * 100);
                }
            }
            
            function playSound(audioElement, volume = 0.3) {
                try {
                    const soundClone = audioElement.cloneNode();
                    soundClone.volume = volume;
                    soundClone.play().catch(e => {
                        // Audio play failed - ignore silently
                    });
                } catch (error) {
                    // Audio error - ignore silently
                }
            }
        });
    </script>
</body>
</html>